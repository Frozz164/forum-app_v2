{"ast":null,"code":"var _jsxFileName = \"E:\\\\forum-app_v2\\\\forum-react-frontend\\\\src\\\\components\\\\Auth\\\\Register.jsx\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register({\n  setToken,\n  setUser\n}) {\n  _s();\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (formData.password !== formData.confirmPassword) {\n      setError(\"Passwords don't match\");\n      return;\n    }\n    try {\n      const response = await fetch('http://localhost:8080/api/v1/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: formData.username,\n          email: formData.email,\n          password: formData.password\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        localStorage.setItem('token', data.access_token);\n        localStorage.setItem('user', JSON.stringify({\n          id: data.user_id,\n          username: data.username\n        }));\n        setToken(data.access_token);\n        setUser({\n          id: data.user_id,\n          username: data.username\n        });\n        navigate('/');\n      } else {\n        const errorData = await response.json();\n        setError(errorData.error || 'Registration failed');\n      }\n    } catch (err) {\n      setError('Network error');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"Username\",\n        value: formData.username,\n        onChange: e => setFormData({\n          ...formData,\n          username: e.target.value\n        }),\n        required: true,\n        minLength: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        value: formData.email,\n        onChange: e => setFormData({\n          ...formData,\n          email: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: formData.password,\n        onChange: e => setFormData({\n          ...formData,\n          password: e.target.value\n        }),\n        required: true,\n        minLength: 8\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"confirmPassword\",\n        placeholder: \"Confirm Password\",\n        value: formData.confirmPassword,\n        onChange: e => setFormData({\n          ...formData,\n          confirmPassword: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/login\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 41\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n_s(Register, \"TVcSKdSlRVWh2tmn0QyNdF0GkMo=\", true);\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["Register","setToken","setUser","_s","formData","setFormData","useState","username","email","password","confirmPassword","error","setError","navigate","useNavigate","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","data","json","localStorage","setItem","access_token","id","user_id","errorData","err","_jsxDEV","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","name","placeholder","value","onChange","target","required","minLength","href","_c","$RefreshReg$"],"sources":["E:/forum-app_v2/forum-react-frontend/src/components/Auth/Register.jsx"],"sourcesContent":["export default function Register({ setToken, setUser }) {\r\n    const [formData, setFormData] = useState({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n    });\r\n    const [error, setError] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (formData.password !== formData.confirmPassword) {\r\n            setError(\"Passwords don't match\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:8080/api/v1/register', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    username: formData.username,\r\n                    email: formData.email,\r\n                    password: formData.password\r\n                })\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                localStorage.setItem('token', data.access_token);\r\n                localStorage.setItem('user', JSON.stringify({\r\n                    id: data.user_id,\r\n                    username: data.username\r\n                }));\r\n                setToken(data.access_token);\r\n                setUser({\r\n                    id: data.user_id,\r\n                    username: data.username\r\n                });\r\n                navigate('/');\r\n            } else {\r\n                const errorData = await response.json();\r\n                setError(errorData.error || 'Registration failed');\r\n            }\r\n        } catch (err) {\r\n            setError('Network error');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"auth-form\">\r\n            <h2>Register</h2>\r\n            {error && <div className=\"error\">{error}</div>}\r\n            <form onSubmit={handleSubmit}>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"username\"\r\n                    placeholder=\"Username\"\r\n                    value={formData.username}\r\n                    onChange={(e) => setFormData({...formData, username: e.target.value})}\r\n                    required\r\n                    minLength={3}\r\n                />\r\n                <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    placeholder=\"Email\"\r\n                    value={formData.email}\r\n                    onChange={(e) => setFormData({...formData, email: e.target.value})}\r\n                    required\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"Password\"\r\n                    value={formData.password}\r\n                    onChange={(e) => setFormData({...formData, password: e.target.value})}\r\n                    required\r\n                    minLength={8}\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    name=\"confirmPassword\"\r\n                    placeholder=\"Confirm Password\"\r\n                    value={formData.confirmPassword}\r\n                    onChange={(e) => setFormData({...formData, confirmPassword: e.target.value})}\r\n                    required\r\n                />\r\n                <button type=\"submit\">Register</button>\r\n            </form>\r\n            <p>Already have an account? <a href=\"/login\">Login</a></p>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}